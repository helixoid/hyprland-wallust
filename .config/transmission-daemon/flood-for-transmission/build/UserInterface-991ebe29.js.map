{"version":3,"file":"UserInterface-991ebe29.js","sources":["../../src/components/Modal/Settings/UserInterface.svelte"],"sourcesContent":["<script>\n  import Header from './Header.svelte';\n  import Button from '~components/Button';\n  import InputMultiple from '~components/InputMultiple';\n  import Checkbox from '~components/Checkbox';\n  import Select from '~components/Select';\n  import {\n    modals,\n    alerts,\n    uiColumns,\n    paths,\n    darkMode,\n    switchSpeedColors,\n    timeConfig,\n    tableHeaderConfig,\n  } from '~helpers/stores';\n  import { orderable } from '~helpers/actions';\n\n  const newColumns = JSON.parse(JSON.stringify($uiColumns));\n  let newPaths = [...$paths];\n  let newSwitchSpeedColors = $switchSpeedColors;\n  let newTimeConfig = $timeConfig;\n  let newTableHeaderConfig = $tableHeaderConfig;\n  const configuredDarkMode = darkMode.configuredValue;\n  let newDarkMode = $configuredDarkMode;\n\n  const darkModeOptions = [\n    { label: 'Auto', value: 'auto' },\n    { label: 'Enabled', value: 'enabled' },\n    { label: 'Disabled', value: 'disabled' },\n  ];\n\n  const handleSubmit = () => {\n    try {\n      uiColumns.set(newColumns);\n      paths.set(newPaths);\n      switchSpeedColors.set(newSwitchSpeedColors);\n      timeConfig.set(newTimeConfig);\n      tableHeaderConfig.set(newTableHeaderConfig);\n      darkMode.set(newDarkMode);\n      alerts.add('Succesfully saved user interface settings');\n    } catch (e) {\n      console.error(e);\n      alerts.add(\n        'Failed saving user interface settings, please try again',\n        'negative'\n      );\n    }\n  };\n\n  const handleColumnDrop = (sorting) => {\n    newColumns.sort((a, b) => sorting.indexOf(a.id) - sorting.indexOf(b.id));\n  };\n</script>\n\n<form on:submit|preventDefault=\"{handleSubmit}\">\n  <Header text=\"Color scheme\" />\n  <div class=\"list\">\n    <Select\n      options=\"{darkModeOptions}\"\n      on:change=\"{(event) => (newDarkMode = event.detail)}\"\n      value=\"{newDarkMode}\"\n      direction=\"below\"\n      label=\"Dark mode\"\n    />\n  </div>\n\n  <div class=\"list\">\n    <Checkbox\n      label=\"Switch speed colors\"\n      hint=\"This will switch the upload and download colors. Originally green for download and blue for upload.\"\n      bind:checked=\"{newSwitchSpeedColors}\"\n    />\n  </div>\n\n  <Header text=\"Format\" />\n  <div class=\"list\">\n    <Checkbox\n      label=\"24-hour notation\"\n      hint=\"Will represent time with 24 hours if enabled and 12 hours if disabled\"\n      bind:checked=\"{newTimeConfig}\"\n    />\n  </div>\n\n  <div class=\"list\">\n    <Checkbox\n      label=\"Wrap overflowing text in table headers\"\n      hint=\"Will wrap text in header columns when enabled\"\n      bind:checked=\"{newTableHeaderConfig}\"\n    />\n  </div>\n\n  <Header text=\"Common paths\" />\n  <p class=\"hint\">\n    These paths will be shown behind the magnifier where you can select a path.\n  </p>\n  <InputMultiple\n    bind:values=\"{newPaths}\"\n    pattern=\"^/.*\"\n    validationMessage=\"Path must be an absolute path.\"\n  />\n\n  <Header text=\"Torrent Columns\" />\n  <div class=\"list\">\n    {#each Object.values(newColumns) as column}\n      <div\n        class=\"column\"\n        draggable=\"true\"\n        use:orderable=\"{handleColumnDrop}\"\n        id=\"{column.id}\"\n      >\n        <span>{uiColumns.getColumnLabel(column.id)}</span>\n        <Checkbox bind:checked=\"{column.enabled}\" label=\"Enabled\" />\n      </div>\n    {/each}\n  </div>\n\n  <div class=\"buttons\">\n    <Button type=\"button\" priority=\"tertiary\" on:click=\"{modals.close}\">\n      Cancel\n    </Button>\n    <Button type=\"submit\" priority=\"primary\">Save settings</Button>\n  </div>\n</form>\n\n<style>\n  form {\n    min-height: 100%;\n    display: flex;\n    flex-direction: column;\n    line-height: 1;\n    color: var(--color-modal-text);\n  }\n\n  form :global(.checkbox) :global(.indicator) {\n    background: var(--color-checkbox-background-dark);\n    border-color: var(--color-checkbox-border-dark);\n  }\n\n  .buttons {\n    flex-grow: 1;\n    align-items: flex-end;\n    display: flex;\n    justify-content: flex-end;\n    gap: 10px;\n  }\n\n  .list {\n    margin-bottom: 15px;\n    border-radius: 3px;\n    overflow: hidden;\n  }\n\n  .column {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    background: var(--color-modal-user-interface-column-background);\n    border: 1px solid var(--color-modal-user-interface-column-border);\n    cursor: move;\n    height: 30px;\n    padding: 0 5px;\n    font-size: 13px;\n  }\n\n  .hint {\n    font-size: 12px;\n    line-height: 1.5;\n    margin-bottom: 8px;\n  }\n</style>\n"],"names":["t0_value","uiColumns","getColumnLabel","ctx","id","enabled","checkbox_props","checked","attr","div","div_id_value","insert","target","anchor","append","span","current","dirty","set_data","t0","checkbox_changes","Object","values","length","i","button0","$on","modals","close","form","div0","div1","div2","div3","p","div4","div5","each_blocks","newColumns","JSON","parse","stringify","$uiColumns","newPaths","$paths","newSwitchSpeedColors","$switchSpeedColors","newTimeConfig","$timeConfig","newTableHeaderConfig","$tableHeaderConfig","configuredDarkMode","darkMode","configuredValue","newDarkMode","$configuredDarkMode","label","value","handleSubmit","set","paths","switchSpeedColors","timeConfig","tableHeaderConfig","alerts","add","e","console","error","sorting","sort","a","b","indexOf","event","$$invalidate","detail","$$self","$$","not_equal","column"],"mappings":"wdA+GeA,EAAAC,EAAUC,eAAeC,MAAOC,IAAE,oEACF,IAAdD,MAAOE,UAAPC,EAAAC,QAAAJ,MAAOE,wLAH3BG,EAAAC,EAAA,KAAAC,EAAAP,MAAOC,YAJdO,EAQMC,EAAAH,EAAAI,GAFJC,EAAkDL,EAAAM,+DAHlCZ,EAAgB,yBAGzBa,GAAA,EAAAC,IAAAjB,KAAAA,EAAAC,EAAUC,eAAeC,MAAOC,IAAE,KAAAc,EAAAC,EAAAnB,6BAChBoB,EAAAb,QAAAJ,MAAOE,mCAH3BW,GAAA,EAAAC,GAAAP,KAAAA,EAAAP,MAAOC,oJASoD,8EAG3B,sPA9D7BD,EAAe,SAEjBA,EAAW,6OAUgB,IAApBA,EAAoB,gBAApBA,EAAoB,qOASP,IAAbA,EAAa,gBAAbA,EAAa,kMAQO,IAApBA,EAAoB,gBAApBA,EAAoB,+KASf,IAARA,EAAQ,eAARA,EAAQ,6GAOfkB,OAAOC,OAAOnB,EAAU,4BAA7BoB,OAAIC,GAAA,oKAc+CC,GAAAC,IAAA,QAAAC,EAAOC,+2BA/DhEjB,EAoEOC,EAAAiB,EAAAhB,sBAlELC,EAQMe,EAAAC,sBAENhB,EAMMe,EAAAE,yCAGNjB,EAMMe,EAAAG,sBAENlB,EAMMe,EAAAI,yCAGNnB,EAEIe,EAAAK,qDAQJpB,EAYMe,EAAAM,iEAENrB,EAKMe,EAAAO,sEAnEyBjC,EAAY,gDAM/BA,EAAW,kDAUJA,EAAoB,gEASpBA,EAAa,iEAQbA,EAAoB,oEASvBA,EAAQ,oDAOfkB,OAAOC,OAAOnB,EAAU,cAA7BoB,OAAIC,GAAA,EAAA,mHAAJD,OAAIC,EAAAa,GAAAd,OAAAC,GAAA,oVAAJD,OAAIC,GAAA,2kBAtFFc,EAAaC,KAAKC,MAAMD,KAAKE,UAAUC,IACzC,IAAAC,MAAeC,GACfC,EAAuBC,EACvBC,EAAgBC,EAChBC,EAAuBC,QACrBC,EAAqBC,EAASC,sCAChC,IAAAC,EAAcC,uBAEG,CACjB,CAAAC,MAAO,OAAQC,MAAO,QACtB,CAAAD,MAAO,UAAWC,MAAO,WACzB,CAAAD,MAAO,WAAYC,MAAO,aAGZC,SAEdzD,EAAU0D,IAAIrB,GACdsB,EAAMD,IAAIhB,GACVkB,EAAkBF,IAAId,GACtBiB,EAAWH,IAAIZ,GACfgB,EAAkBJ,IAAIV,GACtBG,EAASO,IAAIL,GACbU,EAAOC,IAAI,mDACJC,GACPC,QAAQC,MAAMF,GACdF,EAAOC,IACL,0DACA,cAKoBI,IACxB/B,EAAWgC,MAAM,CAAAC,EAAGC,IAAMH,EAAQI,QAAQF,EAAEnE,IAAMiE,EAAQI,QAAQD,EAAEpE,KAAE,EASvDsE,GAAWC,EAAA,EAAArB,EAAcoB,EAAME,oBAW7B/B,EAAoBY,sBASpBV,EAAaU,sBAQbR,EAAoBQ,sBASvBd,EAAQc,wBAeOoB,EAAAC,GAAAC,UAAAC,EAAO3E,QAAOoD,KAAduB,EAAO3E,QAAOoD"}