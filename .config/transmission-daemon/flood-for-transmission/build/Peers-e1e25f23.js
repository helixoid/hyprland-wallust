import{S as e,i as t,s as n,I as a,d as l,b as s,c as r,C as o,a5 as $,B as c,m as i,e as u,f as p,g as f,h as d,t as m,j as g,k as h,l as v,n as b,p as y,o as k,q as w,r as x,u as U,v as B,w as S,a6 as C,a7 as P,a8 as T,a9 as j,aa as q,ab as E,ac as F,ad as H,ae as I,T as D,U as M}from"./main.js";import{H as L}from"./Header-004efc34.js";function N(e){let t;return{c(){t=M("Update blocklist")},m(e,n){g(e,t,n)},d(e){e&&U(t)}}}function O(e){let t;return{c(){t=M("Cancel")},m(e,n){g(e,t,n)},d(e){e&&U(t)}}}function R(e){let t;return{c(){t=M("Save settings")},m(e,n){g(e,t,n)},d(e){e&&U(t)}}}function X(e){let t,n,S,C,P,T,j,q,E,F,H,I,D,M,X,z,A,G,J,K,Q,V,W,Y,Z,_,ee,te,ne,ae,le,se,re,oe,$e,ce,ie,ue,pe,fe,de,me,ge,he,ve;function be(t){e[16](t)}n=new a({props:{name:"SpinnerIcon"}}),P=new L({props:{text:"Connections"}});let ye={label:"Max peers per torrent",type:"number"};function ke(t){e[17](t)}void 0!==e[3]&&(ye.value=e[3]),j=new l({props:ye}),s.push((()=>r(j,"value",be)));let we={label:"Max peers overall",type:"number"};function xe(t){e[18](t)}void 0!==e[4]&&(we.value=e[4]),F=new l({props:we}),s.push((()=>r(F,"value",ke))),D=new L({props:{text:"Options"}});let Ue={label:"Use PEX to find more peers"};function Be(t){e[19](t)}void 0!==e[5]&&(Ue.checked=e[5]),X=new o({props:Ue}),s.push((()=>r(X,"checked",xe)));let Se={label:"Use DHT to find more peers"};function Ce(t){e[20](t)}void 0!==e[6]&&(Se.checked=e[6]),G=new o({props:Se}),s.push((()=>r(G,"checked",Be)));let Pe={label:"Use LPD to find more peers"};function Te(t){e[22](t)}void 0!==e[7]&&(Pe.checked=e[7]),Q=new o({props:Pe}),s.push((()=>r(Q,"checked",Ce))),Y=new L({props:{text:"Privacy"}}),_=new $({props:{options:e[13],value:e[11],direction:"below",label:"Encryption"}}),_.$on("change",e[21]),te=new L({props:{text:"Blocklist"}});let je={label:"Enable blocklist"};function qe(t){e[23](t)}void 0!==e[9]&&(je.checked=e[9]),ae=new o({props:je}),s.push((()=>r(ae,"checked",Te)));let Ee={type:"url",hint:"Blocklist has "+e[12].format(e[10])+" rules"};return void 0!==e[8]&&(Ee.value=e[8]),re=new l({props:Ee}),s.push((()=>r(re,"value",qe))),ie=new c({props:{type:"button",priority:"tertiary",loading:e[2],$$slots:{default:[N]},$$scope:{ctx:e}}}),ie.$on("click",e[14]),fe=new c({props:{type:"button",priority:"tertiary",$$slots:{default:[O]},$$scope:{ctx:e}}}),fe.$on("click",i.close),me=new c({props:{type:"submit",priority:"primary",loading:e[1],$$slots:{default:[R]},$$scope:{ctx:e}}}),{c(){t=u("div"),p(n.$$.fragment),S=f(),C=u("form"),p(P.$$.fragment),T=f(),p(j.$$.fragment),E=f(),p(F.$$.fragment),I=f(),p(D.$$.fragment),M=f(),p(X.$$.fragment),A=f(),p(G.$$.fragment),K=f(),p(Q.$$.fragment),W=f(),p(Y.$$.fragment),Z=f(),p(_.$$.fragment),ee=f(),p(te.$$.fragment),ne=f(),p(ae.$$.fragment),se=f(),p(re.$$.fragment),$e=f(),ce=u("div"),p(ie.$$.fragment),ue=f(),pe=u("div"),p(fe.$$.fragment),de=f(),p(me.$$.fragment),d(ce,"class","update-wrapper svelte-580wfe"),d(pe,"class","buttons svelte-580wfe"),d(C,"class","svelte-580wfe"),d(t,"class","wrapper svelte-580wfe"),m(t,"loading-initial",e[0])},m(a,l){g(a,t,l),h(n,t,null),v(t,S),v(t,C),h(P,C,null),v(C,T),h(j,C,null),v(C,E),h(F,C,null),v(C,I),h(D,C,null),v(C,M),h(X,C,null),v(C,A),h(G,C,null),v(C,K),h(Q,C,null),v(C,W),h(Y,C,null),v(C,Z),h(_,C,null),v(C,ee),h(te,C,null),v(C,ne),h(ae,C,null),v(C,se),h(re,C,null),v(C,$e),v(C,ce),h(ie,ce,null),v(C,ue),v(C,pe),h(fe,pe,null),v(pe,de),h(me,pe,null),ge=!0,he||(ve=b(C,"submit",y(e[15])),he=!0)},p(e,[n]){const a={};!q&&8&n&&(q=!0,a.value=e[3],k((()=>q=!1))),j.$set(a);const l={};!H&&16&n&&(H=!0,l.value=e[4],k((()=>H=!1))),F.$set(l);const s={};!z&&32&n&&(z=!0,s.checked=e[5],k((()=>z=!1))),X.$set(s);const r={};!J&&64&n&&(J=!0,r.checked=e[6],k((()=>J=!1))),G.$set(r);const o={};!V&&128&n&&(V=!0,o.checked=e[7],k((()=>V=!1))),Q.$set(o);const $={};2048&n&&($.value=e[11]),_.$set($);const c={};!le&&512&n&&(le=!0,c.checked=e[9],k((()=>le=!1))),ae.$set(c);const i={};1024&n&&(i.hint="Blocklist has "+e[12].format(e[10])+" rules"),!oe&&256&n&&(oe=!0,i.value=e[8],k((()=>oe=!1))),re.$set(i);const u={};4&n&&(u.loading=e[2]),16777216&n&&(u.$$scope={dirty:n,ctx:e}),ie.$set(u);const p={};16777216&n&&(p.$$scope={dirty:n,ctx:e}),fe.$set(p);const f={};2&n&&(f.loading=e[1]),16777216&n&&(f.$$scope={dirty:n,ctx:e}),me.$set(f),(!ge||1&n)&&m(t,"loading-initial",e[0])},i(e){ge||(w(n.$$.fragment,e),w(P.$$.fragment,e),w(j.$$.fragment,e),w(F.$$.fragment,e),w(D.$$.fragment,e),w(X.$$.fragment,e),w(G.$$.fragment,e),w(Q.$$.fragment,e),w(Y.$$.fragment,e),w(_.$$.fragment,e),w(te.$$.fragment,e),w(ae.$$.fragment,e),w(re.$$.fragment,e),w(ie.$$.fragment,e),w(fe.$$.fragment,e),w(me.$$.fragment,e),ge=!0)},o(e){x(n.$$.fragment,e),x(P.$$.fragment,e),x(j.$$.fragment,e),x(F.$$.fragment,e),x(D.$$.fragment,e),x(X.$$.fragment,e),x(G.$$.fragment,e),x(Q.$$.fragment,e),x(Y.$$.fragment,e),x(_.$$.fragment,e),x(te.$$.fragment,e),x(ae.$$.fragment,e),x(re.$$.fragment,e),x(ie.$$.fragment,e),x(fe.$$.fragment,e),x(me.$$.fragment,e),ge=!1},d(e){e&&U(t),B(n),B(P),B(j),B(F),B(D),B(X),B(G),B(Q),B(Y),B(_),B(te),B(ae),B(re),B(ie),B(fe),B(me),he=!1,ve()}}}function z(e,t,n){let a=!0,l=!1,s=!1,r=null,o=null,$=null,c=null,i=null,u=null,p=null,f=0,d=null;const m=new Intl.NumberFormat;S.addColumns([C,P,T,j,q,E,F,H,I]).then((e=>{n(3,r=e[H]),n(4,o=e[F]),n(5,$=e[I]),n(6,c=e[j]),n(7,i=e[E]),n(8,u=e[T]),n(9,p=e[C]),n(10,f=e[P]),n(11,d=e[q]),n(0,a=!1)})).catch((()=>{D.add("Unable to fetch the data for that action right now. Try again later.","negative")}));return[a,l,s,r,o,$,c,i,u,p,f,d,m,[{label:"Required",value:"required"},{label:"Preferred",value:"preferred"},{label:"Tolerated",value:"tolerated"}],()=>{n(2,s=!0),S.update({"blocklist-url":u}).then(S.updateBlocklist).then((e=>{n(10,f=e),D.add("Succesfully updated your blocklist")})).catch((()=>{D.add("Failed updating your blocklist, please try again","negative")})).finally((()=>{n(2,s=!1)}))},()=>{n(1,l=!0),S.update({"peer-limit-per-torrent":r,"peer-limit-global":o,"pex-enabled":$,"dht-enabled":c,"lpd-enabled":i,"blocklist-url":u,"blocklist-enabled":p,encryption:d}).then((()=>{D.add("Succesfully saved peers settings")})).catch((()=>{D.add("Failed saving peers settings, please try again","negative")})).finally((()=>{n(1,l=!1)}))},function(e){r=e,n(3,r)},function(e){o=e,n(4,o)},function(e){$=e,n(5,$)},function(e){c=e,n(6,c)},function(e){i=e,n(7,i)},e=>n(11,d=e.detail),function(e){p=e,n(9,p)},function(e){u=e,n(8,u)}]}class A extends e{constructor(e){super(),t(this,e,z,X,n,{})}}export{A as default};
//# sourceMappingURL=Peers-e1e25f23.js.map
